import { apiService } from "./ApiService";

const API_URL = "/Schedule";

// ðŸ” Láº¥y táº¥t cáº£ schedule theo conferenceId
export const getSchedulesByConference = async (conferenceId) => {
  return apiService.get(`${API_URL}/conference/${conferenceId}`);
};

// ðŸ” Láº¥y 1 schedule theo scheduleId
export const getScheduleById = async (scheduleId) => {
  return apiService.get(`${API_URL}/${scheduleId}`);
};

export const getSchedulesByTimeline = async (timelineId) => {
  return apiService.get(`${API_URL}/timeline/${timelineId}`);
};

// âž• Táº¡o schedule má»›i (POST)
export const createSchedule = async (data) => {
  const formData = new FormData();
  formData.append("timeLineId", data.timeLineId);
  formData.append("sessionTitle", data.sessionTitle || "");
  formData.append("location", data.location || "");
  formData.append("paperId", data.paperId ?? ""); // trÃ¡nh null
  formData.append("presenterId", data.presenterId ?? "");
  formData.append("presentationStartTime", data.presentationStartTime || "");
  formData.append("presentationEndTime", data.presentationEndTime || "");

  return apiService.post(`${API_URL}/add`, formData, {
    headers: {
      "Content-Type": "multipart/form-data",
    },
  });
};

// âœï¸ Cáº­p nháº­t schedule theo scheduleId (PUT)
export const updateSchedule = async (scheduleId, scheduleData) => {
  return apiService.put(`${API_URL}/edit/${scheduleId}`, scheduleData);
};

// âŒ XÃ³a schedule theo scheduleId (DELETE)
export const deleteSchedule = async (scheduleId) => {
  return apiService.delete(`${API_URL}/delete/${scheduleId}`);
};
